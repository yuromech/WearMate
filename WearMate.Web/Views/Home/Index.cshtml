@model WearMate.Web.Models.ViewModels.HomeViewModel
@{
    ViewData["Title"] = "Home";
}

<!-- HERO SECTION -->
<section class="container-fluid p-0 mb-5">
    <div class="hero-section position-relative mx-3 mt-3">
        <img src="/images/banner1.jpg" alt="Hero Banner" class="w-100 h-100 object-fit-cover" style="object-position: center;">
        <div class="hero-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center">
            <div class="container px-5">
                <div class="row">
                    <div class="col-lg-7 text-white animate-fade-up">
                        <div class="d-inline-block glass-effect px-4 py-2 rounded-pill mb-4 border-0">
                            <span class="text-gradient-accent fw-bold text-uppercase tracking-wider small">@Localizer["NewCollection2025"]</span>
                        </div>
                        <h1 class="display-2 fw-bold mb-4" style="line-height: 1.1; text-shadow: 0 2px 10px rgba(0,0,0,0.3);">
                            @Localizer["HeroTitle"]<br>
                            <span class="text-gradient-accent">@Localizer["HeroSubtitle"]</span>
                        </h1>
                        <p class="lead mb-5 opacity-90 fw-light" style="max-width: 600px;">@Localizer["HeroDesc"]</p>
                        <div class="d-flex gap-3">
                            <a asp-controller="Products" asp-action="Index" class="btn btn-primary btn-lg px-5 rounded-pill shadow-lg hover-lift">
                                @Localizer["BuyNow"] <i class="bi bi-arrow-right ms-2"></i>
                            </a>
                            <a asp-controller="Products" asp-action="Index" asp-route-category="sale" class="btn btn-outline-light btn-lg px-5 rounded-pill hover-lift backdrop-blur">
                                @Localizer["FlashSale"]
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- TRUST SIGNALS -->
<section class="container mb-5">
    <div class="row g-4">
        <div class="col-md-3 col-6">
            <div class="d-flex align-items-center gap-3 p-4 rounded-4 glass-effect shadow-sm h-100 hover-lift">
                <div class="rounded-circle bg-primary-subtle p-3 text-primary">
                    <i class="bi bi-truck fs-4"></i>
                </div>
                <div>
                    <h6 class="mb-1 fw-bold">@Localizer["FreeShipping"]</h6>
                    <small class="text-muted">@Localizer["FreeShippingDesc"]</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="d-flex align-items-center gap-3 p-4 rounded-4 glass-effect shadow-sm h-100 hover-lift">
                <div class="rounded-circle bg-success-subtle p-3 text-success">
                    <i class="bi bi-arrow-repeat fs-4"></i>
                </div>
                <div>
                    <h6 class="mb-1 fw-bold">@Localizer["EasyReturns"]</h6>
                    <small class="text-muted">@Localizer["EasyReturnsDesc"]</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="d-flex align-items-center gap-3 p-4 rounded-4 glass-effect shadow-sm h-100 hover-lift">
                <div class="rounded-circle bg-info-subtle p-3 text-info">
                    <i class="bi bi-shield-check fs-4"></i>
                </div>
                <div>
                    <h6 class="mb-1 fw-bold">@Localizer["SecurePayment"]</h6>
                    <small class="text-muted">@Localizer["SecurePaymentDesc"]</small>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="d-flex align-items-center gap-3 p-4 rounded-4 glass-effect shadow-sm h-100 hover-lift">
                <div class="rounded-circle bg-warning-subtle p-3 text-warning">
                    <i class="bi bi-headset fs-4"></i>
                </div>
                <div>
                    <h6 class="mb-1 fw-bold">@Localizer["Support247"]</h6>
                    <small class="text-muted">@Localizer["Support247Desc"]</small>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FLASH SALE / DEALS -->
@if (Model.FlashSaleProducts.Any())
{
    <section class="container mb-5">
        <div class="position-relative rounded-4 overflow-hidden shadow-lg" style="background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);">
            <!-- Decorative Elements -->
            <div class="position-absolute top-0 start-0 w-100 h-100 opacity-10" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,.1) 10px, rgba(255,255,255,.1) 20px);"></div>
            
            <div class="position-relative z-1 py-5">
                <!-- Header -->
                <div class="text-center mb-4">
                    <div class="d-inline-flex align-items-center gap-2 bg-white bg-opacity-25 backdrop-blur px-4 py-2 rounded-pill mb-3">
                        <i class="bi bi-lightning-charge-fill text-warning fs-5"></i>
                        <span class="text-white fw-bold text-uppercase tracking-wider">@Localizer["FlashSale"]</span>
                        <i class="bi bi-lightning-charge-fill text-warning fs-5"></i>
                    </div>
                    <h2 class="fw-bold text-white display-6 mb-2">@Localizer["FlashSaleTitle"]</h2>
                    <p class="text-white text-opacity-75 mb-3">@Localizer["FlashSaleDesc"]</p>
                    
                    <!-- Countdown Timer -->
                    <div class="d-flex justify-content-center gap-3 mb-4">
                        <div class="bg-white bg-opacity-20 backdrop-blur rounded-3 px-3 py-2 text-center">
                            <div class="text-white fw-bold fs-3 lh-1">12</div>
                            <small class="text-white text-opacity-75">@Localizer["Hours"]</small>
                        </div>
                        <div class="bg-white bg-opacity-20 backdrop-blur rounded-3 px-3 py-2 text-center">
                            <div class="text-white fw-bold fs-3 lh-1">34</div>
                            <small class="text-white text-opacity-75">@Localizer["Minutes"]</small>
                        </div>
                        <div class="bg-white bg-opacity-20 backdrop-blur rounded-3 px-3 py-2 text-center">
                            <div class="text-white fw-bold fs-3 lh-1">56</div>
                            <small class="text-white text-opacity-75">@Localizer["Seconds"]</small>
                        </div>
                    </div>
                </div>

                <!-- Products -->
                <div class="container">
                    <div class="row g-4">
                        @foreach (var product in Model.FlashSaleProducts.Take(6))
                        {
                            <div class="col-lg-2 col-md-4 col-6">
                                <div class="card product-card h-100 border-0 shadow-lg">
                                    <div class="product-img-wrapper">
                                        <img src="@(product.ThumbnailUrl ?? "/images/product-placeholder.png")" alt="@product.Name">
                                        <div class="product-actions">
                                            <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="action-btn" title="@Localizer["ViewDetail"]">
                                                <i class="bi bi-eye"></i>
                                            </a>
                                            <button class="action-btn" title="@Localizer["AddToCart"]">
                                                <i class="bi bi-bag-plus"></i>
                                            </button>
                                        </div>
                                        @if (product.SalePrice.HasValue)
                                        {
                                            <span class="position-absolute top-0 start-0 m-2 badge bg-danger rounded-pill shadow-lg">
                                                <i class="bi bi-lightning-fill"></i> -@((int)((1 - product.SalePrice / product.BasePrice) * 100))%
                                            </span>
                                        }
                                    </div>
                                    <div class="card-body text-center p-3">
                                        <h6 class="fw-bold text-truncate mb-2 small">
                                            <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="text-dark text-decoration-none">@product.Name</a>
                                        </h6>
                                        <div class="d-flex flex-column align-items-center gap-1">
                                            @if (product.SalePrice.HasValue)
                                            {
                                                <span class="text-muted text-decoration-line-through small">@product.BasePrice.ToString("N0")đ</span>
                                                <span class="text-danger fw-bold fs-5">@product.SalePrice.Value.ToString("N0")đ</span>
                                            }
                                            else
                                            {
                                                <span class="fw-bold text-primary">@product.BasePrice.ToString("N0")đ</span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                    
                    <div class="text-center mt-4">
                        <a asp-controller="Products" asp-action="Index" asp-route-category="sale" class="btn btn-light btn-lg rounded-pill px-5 hover-lift shadow">
                            <i class="bi bi-lightning-charge-fill me-2"></i>@Localizer["ViewAllFlashSale"]
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
}

<!-- CATEGORIES -->
@if (Model.Categories.Any())
{
    <section class="container mb-5">
        <div class="d-flex justify-content-between align-items-end mb-4">
            <div>
                <span class="text-gradient fw-bold text-uppercase small tracking-wider">@Localizer["Collections"]</span>
                <h2 class="fw-bold mb-1 mt-2">@Localizer["FeaturedCategories"]</h2>
                <p class="text-muted mb-0">@Localizer["FeaturedCategoriesDesc"]</p>
            </div>
            <a asp-controller="Products" asp-action="Index" class="btn btn-outline-primary rounded-pill px-4 hover-lift">
                @Localizer["ViewAll"] <i class="bi bi-arrow-right ms-1"></i>
            </a>
        </div>

        <div class="row g-4">
            @foreach (var category in Model.Categories.Take(6))
            {
                <div class="col-lg-2 col-md-4 col-6">
                    <a asp-controller="Products" asp-action="Index" asp-route-categoryId="@category.Id" class="text-decoration-none">
                        <div class="category-card">
                            <img src="@(category.ImageUrl ?? "/images/cat-placeholder.jpg")" alt="@category.Name">
                            <div class="category-overlay">
                                <div class="w-100">
                                    <h3 class="category-title mb-2">@category.Name</h3>
                                    <div class="d-flex align-items-center text-white small text-uppercase tracking-wide opacity-0 hover-visible transition-base">
                                        <span class="border-bottom border-white pb-1">@Localizer["ExploreNow"]</span>
                                        <i class="bi bi-arrow-right ms-2"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>
    </section>
}


<!-- FEATURED PRODUCTS -->
@if (Model.FeaturedProducts.Any())
{
    <section class="bg-light py-5 mb-5 position-relative overflow-hidden">
        <!-- Decorative Background -->
        <div class="position-absolute top-0 start-0 w-100 h-100 opacity-50" style="background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 20px 20px;"></div>
        
        <div class="container position-relative z-1">
            <div class="text-center mb-5">
                <span class="badge bg-primary-subtle text-primary rounded-pill px-3 py-2 mb-3">@Localizer["HotProducts"]</span>
                <h2 class="fw-bold display-6">@Localizer["MostLoved"]</h2>
                <p class="text-muted">@Localizer["MostLovedDesc"]</p>
            </div>

            <div class="row g-4">
                @foreach (var product in Model.FeaturedProducts.Take(4))
                {
                    <div class="col-lg-3 col-md-4 col-6">
                        <div class="card product-card h-100">
                            <div class="product-img-wrapper">
                                <img src="@(product.ThumbnailUrl ?? "/images/product-placeholder.png")" alt="@product.Name">
                                <div class="product-actions">
                                    <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="action-btn" title="@Localizer["ViewDetail"]">
                                        <i class="bi bi-eye"></i>
                                    </a>
                                    <button class="action-btn" title="@Localizer["AddToCart"]">
                                        <i class="bi bi-bag-plus"></i>
                                    </button>
                                </div>
                                @if (product.SalePrice.HasValue)
                                {
                                    <span class="position-absolute top-0 start-0 m-3 badge bg-danger rounded-pill shadow-sm">-@((int)((1 - product.SalePrice / product.BasePrice) * 100))%</span>
                                }
                            </div>
                            <div class="card-body text-center p-4">
                                <div class="text-muted small mb-2 text-uppercase tracking-wide">@product.Category?.Name</div>
                                <h6 class="fw-bold text-truncate mb-3 fs-5">
                                    <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="text-dark text-decoration-none hover-link">@product.Name</a>
                                </h6>
                                <div class="d-flex justify-content-center align-items-center gap-2">
                                    @if (product.SalePrice.HasValue)
                                    {
                                        <span class="text-muted text-decoration-line-through small">@product.BasePrice.ToString("N0")đ</span>
                                        <span class="text-danger fw-bold fs-5">@product.SalePrice.Value.ToString("N0")đ</span>
                                    }
                                    else
                                    {
                                        <span class="fw-bold fs-5 text-primary">@product.BasePrice.ToString("N0")đ</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
            
            <div class="text-center mt-5">
                <a asp-controller="Products" asp-action="Index" class="btn btn-outline-dark rounded-pill px-5 py-3 hover-lift">
                    @Localizer["ViewAll"]
                </a>
            </div>
        </div>
    </section>
}

<!-- BEST SELLERS -->
@if (Model.BestSellers.Any())
{
    <section class="bg-light py-5 mb-5 position-relative overflow-hidden">
        <!-- Decorative Background -->
        <div class="position-absolute top-0 start-0 w-100 h-100 opacity-25" style="background-image: radial-gradient(#f59e0b 1px, transparent 1px); background-size: 20px 20px;"></div>
        
        <div class="container position-relative z-1">
            <div class="text-center mb-5">
                <span class="badge bg-warning-subtle text-warning rounded-pill px-3 py-2 mb-3">
                    <i class="bi bi-fire me-1"></i> @Localizer["BestSellingProducts"]
                </span>
                <h2 class="fw-bold display-6">@Localizer["BestSellingProducts"]</h2>
                <p class="text-muted">@Localizer["BestSellingProductsDesc"]</p>
            </div>

            <div class="row g-4">
                @foreach (var product in Model.BestSellers.Take(4))
                {
                    <div class="col-lg-3 col-md-4 col-6">
                        <div class="card product-card h-100">
                            <div class="product-img-wrapper">
                                <img src="@(product.ThumbnailUrl ?? "/images/product-placeholder.png")" alt="@product.Name">
                                <div class="product-actions">
                                    <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="action-btn" title="@Localizer["ViewDetail"]">
                                        <i class="bi bi-eye"></i>
                                    </a>
                                    <button class="action-btn" title="@Localizer["AddToCart"]">
                                        <i class="bi bi-bag-plus"></i>
                                    </button>
                                </div>
                                @if (product.SalePrice.HasValue)
                                {
                                    <span class="position-absolute top-0 start-0 m-3 badge bg-danger rounded-pill shadow-sm">-@((int)((1 - product.SalePrice / product.BasePrice) * 100))%</span>
                                }
                                else
                                {
                                    <span class="position-absolute top-0 start-0 m-3 badge bg-warning rounded-pill shadow-sm">
                                        <i class="bi bi-fire"></i> @Localizer["Hot"]
                                    </span>
                                }
                            </div>
                            <div class="card-body text-center p-4">
                                <div class="text-muted small mb-2 text-uppercase tracking-wide">@product.Category?.Name</div>
                                <h6 class="fw-bold text-truncate mb-3 fs-5">
                                    <a asp-controller="Products" asp-action="Detail" asp-route-slug="@product.Slug" class="text-dark text-decoration-none hover-link">@product.Name</a>
                                </h6>
                                <div class="d-flex justify-content-center align-items-center gap-2">
                                    @if (product.SalePrice.HasValue)
                                    {
                                        <span class="text-muted text-decoration-line-through small">@product.BasePrice.ToString("N0")đ</span>
                                        <span class="text-danger fw-bold fs-5">@product.SalePrice.Value.ToString("N0")đ</span>
                                    }
                                    else
                                    {
                                        <span class="fw-bold fs-5 text-primary">@product.BasePrice.ToString("N0")đ</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
            
            <div class="text-center mt-5">
                <a asp-controller="Products" asp-action="Index" class="btn btn-outline-dark rounded-pill px-5 py-3 hover-lift">
                    @Localizer["ViewAllBestSellers"]
                </a>
            </div>
        </div>
    </section>
}

<!-- NEWSLETTER BANNER -->
<section class="container mb-5">
    <div class="rounded-4 p-5 text-center position-relative overflow-hidden shadow-lg" style="background: var(--gradient-dark);">
        <div class="position-relative z-1">
            <h2 class="fw-bold mb-3 text-white">@Localizer["NewsletterTitle"]</h2>
            <p class="text-white-50 mb-4 mx-auto" style="max-width: 500px;">@Localizer["NewsletterPromo"]</p>
            <form class="d-flex justify-content-center gap-2 mx-auto" style="max-width: 450px;">
                <input type="email" class="form-control form-control-lg rounded-pill px-4 border-0" placeholder="@Localizer["EmailPlaceholder"]">
                <button class="btn btn-primary btn-lg rounded-pill px-4 hover-glow">@Localizer["Subscribe"]</button>
            </form>
        </div>
        <!-- Decorative circle -->
        <div class="position-absolute top-0 start-0 translate-middle rounded-circle bg-accent opacity-10 blur-3xl" style="width: 300px; height: 300px; filter: blur(60px);"></div>
        <div class="position-absolute bottom-0 end-0 translate-middle-x rounded-circle bg-primary opacity-20 blur-3xl" style="width: 400px; height: 400px; filter: blur(60px);"></div>
    </div>
</section>
